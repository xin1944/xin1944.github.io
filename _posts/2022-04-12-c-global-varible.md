---
layout: post
comments: true
section-type: post
title: C语言中的全局变量
category: daily
tags: [ 'tutorial' ]
---

```
C编译器对多重定义的全局符号的解析和链接。

在编译阶段，编译器将全局符号信息隐含地编码在可重定位目标文件的符号表里。这里有个**“强符号(strong)”和“弱符号(weak)”**的概念——前者指的是定义并且初始化了的变量，比如foo.c里的结构体b，后者指的是未定义或者定义但未初始化的变量，比如main.c里的整型b和c，还有两个源文件都包含头文件里的a。当符号被多重定义时，GNU链接器(ld)使用以下规则决议：

不允许出现多个相同强符号。

如果有一个强符号和多个弱符号，则选择强符号。

如果有多个弱符号，那么先决议到size最大的那个，如果同样大小，则按照链接顺序选择第一个。
```


